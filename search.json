[
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "There’s antimony, arsenic, aluminum, selenium."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "A Million Little Monomers",
    "section": "",
    "text": "DuckDB to HTML\n\n\nDirectly convert DuckDB result set to HTML table string\n\n\n\n\nDatabases\n\n\nHTML\n\n\n\n\nUseful to write HTML tables without pandas\n\n\n\n\n\n\nSep 16, 2023\n\n\nLiqC\n\n\n\n\n\n\n  \n\n\n\n\nBlack Cats, Blue Birds\n\n\nChasing down rare beasts\n\n\n\n\nData Science\n\n\nStatistics\n\n\n\n\nObserving and fixing rare events is difficult to do reliably.\n\n\n\n\n\n\nJun 12, 2023\n\n\nLiqC\n\n\n\n\n\n\n  \n\n\n\n\nAqueous chemistry and applications of boron hydrides\n\n\nUnpublished academic proposals, part 1\n\n\n\n\nchemistry\n\n\nresearch proposals\n\n\n\n\nPreparation of water-stable amine–borane (RNH2•BH3) derivatives of peptides and proteins. Written by me in October 2015.\n\n\n\n\n\n\nMay 3, 2023\n\n\nLiqC\n\n\n\n\n\n\n  \n\n\n\n\nData Supply Chain\n\n\nIntroduction, definitions, and a breakfast insight\n\n\n\n\nData Supply Chain\n\n\nInsight Delivery\n\n\n\n\nGenerating insights from raw data and delivering insights to decision makers are two critical stages for creating value from data.\n\n\n\n\n\n\nApr 11, 2023\n\n\nLiqC\n\n\n\n\n\n\n  \n\n\n\n\nDecision-Driven Analyics\n\n\nLooking for a purpose for your data? Think decisions first.\n\n\n\n\nData Culture\n\n\nData Strategy\n\n\n\n\nAre you turning to data to confirm your beliefs, or are you truly exploring the possibilities?\n\n\n\n\n\n\nMar 14, 2023\n\n\nLiqC\n\n\n\n\n\n\n  \n\n\n\n\nQuarto: Back in Blog\n\n\nPublication-Grade Technical Communication\n\n\n\n\nHousekeeping\n\n\nHowto\n\n\nQuarto\n\n\n\n\nContext and path to adoption of the best scientific and publishing system of today\n\n\n\n\n\n\nMar 13, 2023\n\n\nLiqC\n\n\n\n\n\n\n  \n\n\n\n\nElements of Surprise\n\n\nAnd some polypropylene\n\n\n\n\nHello, World\n\n\nTables\n\n\nBokeh\n\n\n\n\nSomething else to get started.\n\n\n\n\n\n\nFeb 3, 2022\n\n\nLiqC\n\n\n\n\n\n\n  \n\n\n\n\nPolyethylene\n\n\nAnd a small periodic table\n\n\n\n\nHello, World\n\n\nTables\n\n\n\n\nSomething to get started.\n\n\n\n\n\n\nFeb 2, 2022\n\n\nLiqC\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "posts/23/quarto-back-in-blog/index.html",
    "href": "posts/23/quarto-back-in-blog/index.html",
    "title": "Quarto: Back in Blog",
    "section": "",
    "text": "Many moons ago, I had a LiveJournal blog about fun times in a chemistry lab. It was my first attempt to put some thoughts together in a foreign language. Drawing molecules and silly commentary on the science of the day with I-Can-Has-Cheeseburger-style illustrations was the name of the game. Fast forward fifteen years… I became a data analyst/engineer/scientist, and a lot of my thoughts are in or near code (python and friends). One thing did not change: I still enjoy drawing molecules.\n\n\n\n\n\nThere will be molecules!\n\n\nAnother thing that did not change: Wordpress is still one of the most popular platforms for just about everything on the web. But see, I want my blog to run my shiny 2023 code.\nI’ve been looking for a solution that could serve as a platform and for my own thoughts, as well as something that could work as a knowledge management system in a corporate setting. If you spent any time on tech teams, you know that writing documentation is one of the eternal pain points. In data science, you often want to present your thoughts mixed together with code, most commonly in Jupyter notebooks. You also want nicely styled page layout and code blocks, and some support for content management (screenshots, images, videos). Over the years I’ve been a part of data science/engineering teams in biotech, healthcare, and telecom, I haven’t seen a solution I liked. Chances are, if I worked at Google, I’d embrace markdown-driven publishing sooner.\n\n\nWhether you like or hate Jupyter notebooks, you have to admit that they are the vehicle for innovation around data. FastAI’s Jeremy Howard has probably taken Jupyter notebooks further than anyone: the entire 20K-stars deep learning library and the printed book that goes along with it were both created entirely in notebooks. He’s a fan of scientific journaling, the habit of documenting your thought process, and I like the idea as well. Writing in interactive notebooks allows your code and your thought process to coexist, so you can communicate to others and your future self not just what you did but why you did it.\n\n\n\nLiterate programming is a methodology that combines a programming language with a documentation language, thereby making programs more robust, more portable, more easily maintained, and arguably more fun to write than programs that are written only in a high-level language. The main idea is to treat a program as a piece of literature, addressed to human beings rather than to a computer.1\n\nOf course, problems begin when you attempt to build on somebody’s work in a notebook (environments 🤪), or check them into github, or build some kind of knowledge or analytics repository from notebooks. You have to make compromises.\n\n\n\nI first learned about Quarto from Jeremy Howard’s I Like Notebooks talk. From there I learned about FastAI’s nbdev and its documentation framework called fastpages. Around the same time, the creators of RStudio and RMarkdown, the company founded by JJ Allaire that is now known as Posit, released Quarto. The FastAI team recognized that Quarto supersedes what they were able to build to date, and decided to abandon their work and endorse Quarto. The fact that prominent practitioners from the R and Python worlds converged on one vehicle for insight delivery was enough for me to settle on Quarto.\n\nOne of the main ideas of Quarto is to help scientific communication take better advantage of the web while still not losing the focus on print. Another piece, which was a huge focus of the R community, is reproducibility. All your work should be in a computational document that runs top to bottom. Your figures, tables, and results are reproducibly made by code. Accurate, trustworthy computing of scientific results is the prime directive.2\n\n\n\n\nThe output of browser-native data exploration should end up in a browser-native habitat. Viewed as an HTML page that is decorated with care and attention to detail, your code and narrative are experienced in a very similar way to how the author first created it. With syntax highlighting, interactive plots, and codefolding, the output appeals to a range of audiences. Some may choose to read the TLDR and browse the figures. Some will play with the charts. Some will examine the code. The experience reminds me of a safari: the wildlife is as wild as it gets, and the visitor has lots of choices for how to interact with it. If some of the native functionality is removed, your notebook may be a zoo, or even in a circus. Live notebooks solutions (Binder, JupyterHub) remain slow and fragile. Standalone notebook files require you to fire up your own Jupyter (your execs won’t be doing that). Github-rendered notebooks lose output, and often fail to show up at all. There’s a fair chance that Github will eventually implement Quarto for showing notebooks.\n\n\n\nHere’s a list of features I’m loving. Quite far from discovering all of what Quarto has to offer.\n\nPreview the rendered page, with livereload.\nHTML output that does not suck. You may have tried save a notebook as HTML, which is done with nbconvert, and learned how clunky it is. Here, the conversion just works, looks great, and loads fast. All the interactive charts remain interactive (Altair, Bokeh, Plotly all work). The code blocks are easily portable, thanks to a copy button.\nOptions for comments.\nPublish with one command to Github Pages or Quarto’s own platform.\nYou can directly paste iframes code to embed special content (like the YouTube video above), giving you functionality similar to Notion.\nRich use of markdown. Quarto’s VSCode extension will even render the Quarto-native .qmd file as a notebook.\nThe ability to select different execution kernels (bring your own requirements.txt or poetry.lock). Quarto allows you to select kernels, which are just JSON files pointed at the right interpreter. Assuming you’ve got ipykernel in your package, run python -m ipykernel install --user --name my_env to link the python executable to my_env kernel; check jupyter kernelspec list to find the files and verify.\nOption for self-contained HTML output files with all content, stylesheets, and scripts embedded.\nChoice of themes and layouts.\nBring your own CSS for extra customization.\n\n\n\n\n\n\n\n/* CSS to indent and justify */\nsection &gt; p {\n    text-indent: 1em;\n    text-align: justify;\n}"
  },
  {
    "objectID": "posts/23/quarto-back-in-blog/index.html#the-fate-of-notebooks",
    "href": "posts/23/quarto-back-in-blog/index.html#the-fate-of-notebooks",
    "title": "Quarto: Back in Blog",
    "section": "",
    "text": "Whether you like or hate Jupyter notebooks, you have to admit that they are the vehicle for innovation around data. FastAI’s Jeremy Howard has probably taken Jupyter notebooks further than anyone: the entire 20K-stars deep learning library and the printed book that goes along with it were both created entirely in notebooks. He’s a fan of scientific journaling, the habit of documenting your thought process, and I like the idea as well. Writing in interactive notebooks allows your code and your thought process to coexist, so you can communicate to others and your future self not just what you did but why you did it.\n\n\n\nLiterate programming is a methodology that combines a programming language with a documentation language, thereby making programs more robust, more portable, more easily maintained, and arguably more fun to write than programs that are written only in a high-level language. The main idea is to treat a program as a piece of literature, addressed to human beings rather than to a computer.1\n\nOf course, problems begin when you attempt to build on somebody’s work in a notebook (environments 🤪), or check them into github, or build some kind of knowledge or analytics repository from notebooks. You have to make compromises."
  },
  {
    "objectID": "posts/23/quarto-back-in-blog/index.html#enter-quarto",
    "href": "posts/23/quarto-back-in-blog/index.html#enter-quarto",
    "title": "Quarto: Back in Blog",
    "section": "",
    "text": "I first learned about Quarto from Jeremy Howard’s I Like Notebooks talk. From there I learned about FastAI’s nbdev and its documentation framework called fastpages. Around the same time, the creators of RStudio and RMarkdown, the company founded by JJ Allaire that is now known as Posit, released Quarto. The FastAI team recognized that Quarto supersedes what they were able to build to date, and decided to abandon their work and endorse Quarto. The fact that prominent practitioners from the R and Python worlds converged on one vehicle for insight delivery was enough for me to settle on Quarto.\n\nOne of the main ideas of Quarto is to help scientific communication take better advantage of the web while still not losing the focus on print. Another piece, which was a huge focus of the R community, is reproducibility. All your work should be in a computational document that runs top to bottom. Your figures, tables, and results are reproducibly made by code. Accurate, trustworthy computing of scientific results is the prime directive.2"
  },
  {
    "objectID": "posts/23/quarto-back-in-blog/index.html#analysis-safari",
    "href": "posts/23/quarto-back-in-blog/index.html#analysis-safari",
    "title": "Quarto: Back in Blog",
    "section": "",
    "text": "The output of browser-native data exploration should end up in a browser-native habitat. Viewed as an HTML page that is decorated with care and attention to detail, your code and narrative are experienced in a very similar way to how the author first created it. With syntax highlighting, interactive plots, and codefolding, the output appeals to a range of audiences. Some may choose to read the TLDR and browse the figures. Some will play with the charts. Some will examine the code. The experience reminds me of a safari: the wildlife is as wild as it gets, and the visitor has lots of choices for how to interact with it. If some of the native functionality is removed, your notebook may be a zoo, or even in a circus. Live notebooks solutions (Binder, JupyterHub) remain slow and fragile. Standalone notebook files require you to fire up your own Jupyter (your execs won’t be doing that). Github-rendered notebooks lose output, and often fail to show up at all. There’s a fair chance that Github will eventually implement Quarto for showing notebooks."
  },
  {
    "objectID": "posts/23/quarto-back-in-blog/index.html#features-abound",
    "href": "posts/23/quarto-back-in-blog/index.html#features-abound",
    "title": "Quarto: Back in Blog",
    "section": "",
    "text": "Here’s a list of features I’m loving. Quite far from discovering all of what Quarto has to offer.\n\nPreview the rendered page, with livereload.\nHTML output that does not suck. You may have tried save a notebook as HTML, which is done with nbconvert, and learned how clunky it is. Here, the conversion just works, looks great, and loads fast. All the interactive charts remain interactive (Altair, Bokeh, Plotly all work). The code blocks are easily portable, thanks to a copy button.\nOptions for comments.\nPublish with one command to Github Pages or Quarto’s own platform.\nYou can directly paste iframes code to embed special content (like the YouTube video above), giving you functionality similar to Notion.\nRich use of markdown. Quarto’s VSCode extension will even render the Quarto-native .qmd file as a notebook.\nThe ability to select different execution kernels (bring your own requirements.txt or poetry.lock). Quarto allows you to select kernels, which are just JSON files pointed at the right interpreter. Assuming you’ve got ipykernel in your package, run python -m ipykernel install --user --name my_env to link the python executable to my_env kernel; check jupyter kernelspec list to find the files and verify.\nOption for self-contained HTML output files with all content, stylesheets, and scripts embedded.\nChoice of themes and layouts.\nBring your own CSS for extra customization.\n\n\n\n\n\n\n\n/* CSS to indent and justify */\nsection &gt; p {\n    text-indent: 1em;\n    text-align: justify;\n}"
  },
  {
    "objectID": "posts/23/quarto-back-in-blog/index.html#footnotes",
    "href": "posts/23/quarto-back-in-blog/index.html#footnotes",
    "title": "Quarto: Back in Blog",
    "section": "Footnotes",
    "text": "Footnotes\n\n\nDonald Knuth↩︎\nJeremy Howard + JJ Allaire two-way AMA↩︎"
  },
  {
    "objectID": "posts/23/decision-driven-analytics/index.html",
    "href": "posts/23/decision-driven-analytics/index.html",
    "title": "Decision-Driven Analyics",
    "section": "",
    "text": "Decision-Driven Analytics\nData-driven decision-making has become a common practice in modern companies. Despite the good intentions, the outcomes of analytics initiatives are often disappointing. The problem lies in the habit of treating data as a hammer in search of a nail. Time and again, the pre-ordained decision has already been made—perhaps based on intuition, or on what’s been sold to customers/investors, or some other desired view of the reality. Now the leadership turns to data for a nod. We must move forward and make progress, but sure, we’ll take a quick look at what we know.\nThe result? Preexisting beliefs, biases, and incentives are reinforced. Though important data gaps may be exposed, investing in better data or better data analysis never gets prioritized, because the end product of the data supply chain (the decision) is already at hand.\nBart De Langhe and Stefano Puntoni call for replacing data-driven decision-making with decision-driven analytics. It starts from a proper definition of the decision that needs to be made and the data that is needed to support or reject that decision.\nTo shift to decision-driven data analytics, a company should start by identifying the business’s key decisions and the people who make them, and finding data for a purpose. Leaders can take three steps:\n\nForm a narrow consideration set of alternative courses of action,\nIdentify or gather the data needed to figure out which course of action is best\nChoose the best course of action.\n\nAs you retrospect on the decision that was made, this process can help separate the quality of the outcome from the quality of the decision.\n\n“Decision-driven data analytics emphasizes the importance of asking questions. This approach draws attention to unknowns and the value of additional data collection and analysis. Companies and leaders who take this approach benefit by ensuring that analytics initiatives are tied to action, are focused on answering the questions that matter, and challenge rather than bolster executives’ beliefs about how the world works.”\n\nRead the paper, watch the interview with MIT Management Review.\nAlso published on: LinkedIn"
  },
  {
    "objectID": "posts/23/elements-of-surprise/index.html",
    "href": "posts/23/elements-of-surprise/index.html",
    "title": "Elements of Surprise",
    "section": "",
    "text": "A surprising periodic table of elements.\n\n\nShow the code\ndef elements_of_surprise():\n    \"\"\"Adapted from https://docs.bokeh.org/en/latest/docs/gallery/periodic.html\"\"\"\n    \n    from bokeh.sampledata.periodic_table import elements\n    df = elements.copy()\n\n    # element of surprise\n    df[[\"name\",\"symbol\"]] = df[[\"name\",\"symbol\"]].sample(frac=1).values\n\n    # plotting\n    from bokeh.embed import file_html\n    from bokeh.plotting import figure\n    from bokeh.resources import CDN\n    from bokeh.transform import dodge, factor_cmap\n    from IPython.display import HTML\n\n    periods = [\"I\", \"II\", \"III\", \"IV\", \"V\", \"VI\", \"VII\"]\n    groups = [str(x) for x in range(1, 19)]\n\n    df = elements.copy()\n\n    #element of surprise\n    df[[\"name\",\"symbol\"]] = df[[\"name\",\"symbol\"]].sample(frac=1).values\n\n    df[\"atomic mass\"] = df[\"atomic mass\"].astype(str).apply(lambda x: x[:8])\n    df[\"group\"] = df[\"group\"].astype(str)\n    df[\"period\"] = [periods[x-1] for x in df.period]\n    df = df[df.group != \"-\"]\n\n    cmap = {\n        \"alkali metal\"         : \"#a6cee3\",\n        \"alkaline earth metal\" : \"#1f78b4\",\n        \"metal\"                : \"#d93b43\",\n        \"halogen\"              : \"#999d9a\",\n        \"metalloid\"            : \"#e08d49\",\n        \"noble gas\"            : \"#eaeaea\",\n        \"nonmetal\"             : \"#f1d4Af\",\n        \"transition metal\"     : \"#599d7A\",\n    }\n\n    TOOLTIPS = [\n        (\"Name\", \"@name\"),\n        (\"Atomic number\", \"@{atomic number}\"),\n        (\"Atomic mass\", \"@{atomic mass}\"),\n        (\"Type\", \"@metal\"),\n        (\"CPK color\", \"$color[hex, swatch]:CPK\"),\n        (\"Electronic configuration\", \"@{electronic configuration}\"),\n    ]\n\n    p = figure(title=\"Periodic Table\", width=1200, height=500,\n            x_range=groups, y_range=list(reversed(periods)),\n            tools=\"hover\", toolbar_location=None, tooltips=TOOLTIPS)\n\n    r = p.rect(\"group\", \"period\", 0.95, 0.95, source=df, fill_alpha=0.6, legend_field=\"metal\",\n            color=factor_cmap('metal', palette=list(cmap.values()), factors=list(cmap.keys())))\n\n    text_props = dict(source=df, text_align=\"left\", text_baseline=\"middle\")\n\n    x = dodge(\"group\", -0.4, range=p.x_range)\n\n    p.text(x=x, y=dodge(\"period\", 0.05, range=p.y_range), text=\"symbol\",\n        text_font_size=\"18px\", text_font_style=\"bold\", **text_props)\n\n    p.text(x=x, y=dodge(\"period\", 0.3, range=p.y_range), text=\"atomic number\",\n        text_font_size=\"14px\", **text_props)\n\n    p.text(x=x, y=dodge(\"period\", -0.35, range=p.y_range), text=\"name\",\n        text_font_size=\"10px\", **text_props)\n\n    p.text(x=x, y=dodge(\"period\", -0.2, range=p.y_range), text=\"atomic mass\",\n        text_font_size=\"10px\", **text_props)\n\n    p.outline_line_color = None\n    p.grid.grid_line_color = None\n    p.axis.axis_line_color = None\n    p.axis.major_tick_line_color = None\n    p.axis.major_label_standoff = 0\n    p.legend.orientation = \"horizontal\"\n    p.legend.location =\"top_center\"\n    p.hover.renderers = [r] # only hover element boxes\n\n    html = file_html(p, CDN, \"Periodic Table\")\n    return HTML(html)\n\n\n\nelements_of_surprise()\n\n\n\n\n  \n    \n    Periodic Table\n\n    \n    \n  \n  \n    \n  \n    \n    \n  \n\n\n\n\n\n\nCH(CH3)CH2CH(CH3)CH2CH(CH3)CH2CH(CH3)CH2CH(CH3)CH2 CH(CH3)CH2CH(CH3)CH2CH(CH3)CH2CH(CH3)CH2CH(CH3)CH2 CH(CH3)CH2CH(CH3)CH2CH(CH3)CH2CH(CH3)CH2CH(CH3)CH2 CH(CH3)CH2CH(CH3)CH2CH(CH3)CH2CH(CH3)CH2CH(CH3)CH2 CH(CH3)CH2CH(CH3)CH2CH(CH3)CH2CH(CH3)CH2CH(CH3)CH2 CH(CH3)CH2CH(CH3)CH2CH(CH3)CH2CH(CH3)CH2CH(CH3)CH2 CH(CH3)CH2CH(CH3)CH2CH(CH3)CH2CH(CH3)CH2CH(CH3)CH2\n\n\n\n\nimport numpy as np\nimport matplotlib.pyplot as plt\n\nr = np.arange(0, 2, 0.01)\ntheta = 42 * np.pi * r\nfig, ax = plt.subplots(\n  subplot_kw = {'projection': 'polar'} \n)\nax.plot(theta, r, 'r-')\nax.set_rticks([0, 1, 2])\nax.grid(True)\nplt.show()\n\n\n\n\nFigure 1: A line plot on a polar axis"
  },
  {
    "objectID": "posts/23/elements-of-surprise/index.html#polypropylene",
    "href": "posts/23/elements-of-surprise/index.html#polypropylene",
    "title": "Elements of Surprise",
    "section": "",
    "text": "CH(CH3)CH2CH(CH3)CH2CH(CH3)CH2CH(CH3)CH2CH(CH3)CH2 CH(CH3)CH2CH(CH3)CH2CH(CH3)CH2CH(CH3)CH2CH(CH3)CH2 CH(CH3)CH2CH(CH3)CH2CH(CH3)CH2CH(CH3)CH2CH(CH3)CH2 CH(CH3)CH2CH(CH3)CH2CH(CH3)CH2CH(CH3)CH2CH(CH3)CH2 CH(CH3)CH2CH(CH3)CH2CH(CH3)CH2CH(CH3)CH2CH(CH3)CH2 CH(CH3)CH2CH(CH3)CH2CH(CH3)CH2CH(CH3)CH2CH(CH3)CH2 CH(CH3)CH2CH(CH3)CH2CH(CH3)CH2CH(CH3)CH2CH(CH3)CH2"
  },
  {
    "objectID": "posts/23/elements-of-surprise/index.html#polymerplotlib",
    "href": "posts/23/elements-of-surprise/index.html#polymerplotlib",
    "title": "Elements of Surprise",
    "section": "",
    "text": "import numpy as np\nimport matplotlib.pyplot as plt\n\nr = np.arange(0, 2, 0.01)\ntheta = 42 * np.pi * r\nfig, ax = plt.subplots(\n  subplot_kw = {'projection': 'polar'} \n)\nax.plot(theta, r, 'r-')\nax.set_rticks([0, 1, 2])\nax.grid(True)\nplt.show()\n\n\n\n\nFigure 1: A line plot on a polar axis"
  },
  {
    "objectID": "posts/23/academic-proposals-part1-amine-boranes/index.html",
    "href": "posts/23/academic-proposals-part1-amine-boranes/index.html",
    "title": "Aqueous chemistry and applications of boron hydrides",
    "section": "",
    "text": "The research on borane (BH3) and its derivatives was recognized with two Nobel Prizes, awarded to William Lipscomb(1) in 1976 and Herbert Brown(2) in 1979. Boron hydrides are rarely used in water due to poor aqueous stability. Sodium borohydride (NaBH4), the most readily available BH3 derivative, decomposes within seconds at neutral pH, producing aqua–borane (BH3•H2O) as a fleeting intermediate. Though the majority of aqua–borane proceeds to decompose to H2 and boric acid, BH3•H2O is capable of reducing carbonyl groups and disulfides,(3) and can be intercepted by amines even in water.(4)\nThe goal of this proposal is to devise practical ways to trap borane (BH3) as water-stable(5) amine–boranes (AB), e.g. lysine–borane Lys-ε-NH2•BH3. Presently, AB can only be prepared in aprotic solvents using strongly reducing BH3•SMe2 or BH3•THF, with very limited substrate scope. Thus, the chemical space comprising borane derivatives of amino acids, peptides, and proteins is completely unexplored.\nI hypothesize that efficient borane transfer onto alkylamines can be accomplished using borane adducts of weakly basic azines (pyridines, pyrimidines, triazines) or azoles (imidazoles, pyrazoles, thiazoles). Ortho-substituents that create a hydrophobic environment for the lysine side chain should facilitate the transfer of borane to target acceptor, rather than to water, by either SN1 or SN2 mechanism(6, 7) (Fig. 1). Similar hydrophobic pockets in histone methyltransferases enable lysine methylation by S-adenosylmethionine.(8)\n\n\n\nInitial experiments with readily available pyridine–boranes and model amines, supported by quantum mechanical modeling, will lay the groundwork for the design of effective borane transfer reagents. With the synthetic method for transferring borane on biomolecules in hand, further applications of these elusive compounds can be envisioned. The addition of BH3 (13.8 Daltons) is the lightest chemically feasible chemical modification of an amino group, short for isotope substitution. RNH2•BH3 is isostructural with [RNH2CH3]+ but lacks the positive charge of the latter. AB may be useful for studying protein structure with 11B NMR,(9) boron neutron capture therapy,(10) generating antioxidant hydrogen gas in acidic vesicles,(11) and mimicking methylated lysines.(12)\nRapid decomposition of NaBH4 under physiological conditions is accompanied by evolution of a large volume of gaseous H2 and reductive cleavage of biomolecules (proteins, glycans, lipids).(3) I hypothesize that NaBH4 can be formulated as hard-shelled(13) “nanozeppelins” capable of direct and immune-mediated tumor lysis. The release of hydrogen gas from these nanozeppelins can be both triggered and visualized by ultrasound.(14) Externally triggered, localized release of a chemically reactive precursor may cause massive damage to the vasculature, resulting in cauterization of the vessel, and death of the tumor due to impaired supply of oxygen and nutrients.(15) Mechanochemical lysis of tumor cells can lead to immunogenic cell death, characterized by sustained activation of antigen-presenting cells and cytotoxic T cells,(16) and may help patients lacking pre-existing antitumor immunity respond to immune checkpoint blockade therapy.(17)\nPotential funding sources: NIH (NCI, NIBIB, NIGMS); NSF (MCB, MSN, SYN); DoD; Bill and Melinda Gates Foundation (NaBH4 vaccine is a cheap, broadly applicable intervention).\n\n\nThis was the more outlandish of my proposals. It wasn’t based on my previous work, just on long-time fascination with boron chemistry, and some experiments with reversible reduction of GFP with borohydride(18, 19), which I played with for a bit because purified fluorescent proteins were around in Roger’s lab! Roger himself was quite interested in hydrogen peroxide sensors based on boronic acids, but they couldn’t compete on rates with HyPer and similar protein-based sensors.(20)\n\n\n\n\n\n1. W. N. Lipscomb, The boranes and their relatives. Science. 196, 1047–55 (1977).\n\n\n2. H. C. Brown, From little acorns to tall oaks: From boranes through organoboranes. Science. 210, 485–492 (1980).\n\n\n3. A. M. Crestfield, S. Moore, W. H. Stein, The preparation and enzymatic hydrolysis of reduced and s-carboxymethylated proteins. J Biol Chem. 238, 622–627 (1963).\n\n\n4. R. Earl. Davis, Edward. Bromels, C. L. Kibby, Boron hydrides. III. Hydrolysis of sodium borohydride in aqueous solution. Journal of the American Chemical Society. 84, 885–892 (1962).\n\n\n5. H. C. Kelly, V. B. Marriott, Reexamination of the mechanism of acid-catalyzed amine-borane hydrolysis. The hydrolysis of ammonia-borane. Inorganic Chemistry. 18, 2875–2878 (1979).\n\n\n6. M. F. Hawthorne, D. E. Walmsley, W. L. Budde, Nucleophilic substitution at tetrahedral boron. Trimethylamine-alkylborane and trimethylamine-arylborane substrates. Journal of the American Chemical Society. 93, 3150–3155 (1971).\n\n\n7. E. Muller, H.-B. Burgi, Complexes of 2,2’,2”-nitrilotriphenol. Part 1. A study of bimolecular nucleophilic substitution at the boron atom. Helvetica Chimica Acta. 70, 499–510 (1987).\n\n\n8. B. Xiao, C. Jing, J. R. Wilson, P. A. Walker, N. Vasisht, G. Kelly, S. Howell, I. A. Taylor, G. M. Blackburn, S. J. Gamblin, Structure and catalytic mechanism of the human histone methyltransferase SET7/9. Nature. 421, 652–6 (2003).\n\n\n9. S. Hermanek, Boron-11 NMR spectra of boranes, main-group heteroboranes, and substituted derivatives. Factors influencing chemical shifts of skeletal atoms. Chemical Reviews. 92, 325–362 (1992).\n\n\n10. R. L. Moss, Critical review, with an optimistic outlook, on boron neutron capture therapy (BNCT). Applied radiation and isotopes : including data, instrumentation and methods for use in agriculture, industry and medicine. 88, 2–11 (2014).\n\n\n11. I. Ohsawa, M. Ishikawa, K. Takahashi, M. Watanabe, K. Nishimaki, K. Yamagata, K.-I. Katsura, Y. Katayama, S. Asoh, S. Ohta, Hydrogen acts as a therapeutic antioxidant by selectively reducing cytotoxic oxygen radicals. Nature medicine. 13, 688–94 (2007).\n\n\n12. S. M. Carlson, O. Gozani, Emerging technologies to map the protein methylome. Journal of molecular biology. 426, 3350–62 (2014).\n\n\n13. M. Christian, K.-F. Aguey-Zinsou, Synthesis of core-shell NaBH4@m (m = co, cu, fe, ni, sn) nanoparticles leading to various morphologies and hydrogen storage properties. Chemical Communications. 49, 6794–6796 (2013).\n\n\n14. T. J. Mason, Therapeutic ultrasound an overview. Ultrasonics Sonochemistry. 18, 847–852 (2011).\n\n\n15. K. De Bock, M. Mazzone, P. Carmeliet, Antiangiogenic therapy, hypoxia, and metastasis: Risky liaisons, or not? Nature reviews. Clinical oncology. 8, 393–404 (2011).\n\n\n16. G. Kroemer, L. Galluzzi, O. Kepp, L. Zitvogel, Immunogenic cell death in cancer therapy. Annu Rev Immunol. 31, 51–72 (2013).\n\n\n17. C. Twyman-Saint Victor, A. J. Rech, A. Maity, R. Rengan, K. E. Pauken, E. Stelekati, J. L. Benci, B. Xu, H. Dada, P. M. Odorizzi, R. S. Herati, K. D. Mansfield, D. Patsch, R. K. Amaravadi, L. M. Schuchter, H. Ishwaran, R. Mick, D. A. Pryma, X. Xu, M. D. Feldman, T. C. Gangadhar, S. M. Hahn, E. J. Wherry, R. H. Vonderheide, A. J. Minn, Radiation and dual checkpoint blockade activate non-redundant immune mechanisms in cancer. Nature. 520, 373–377 (2015).\n\n\n18. S. Inouye, F. I. Tsuji, Evidence for redox forms of the aequorea green fluorescent protein. FEBS Letters. 351, 211–214 (1994).\n\n\n19. R. Y. Tsien, THE GREEN FLUORESCENT PROTEIN. Annual Review of Biochemistry. 67, 509–544 (1998).\n\n\n20. J. Meier, E. M Hofferber, J. A Stapleton, N. M Iverson, Hydrogen peroxide sensors for biomedical applications. Chemosensors. 7 (2019), doi:10.3390/chemosensors7040064.\n\n\n\n\n\nThis was the first time I used Quarto for scholarly-ish writing. My proposal was a Word doc with Mendeley citations. I didn’t feel like re-acquanting myself with Mendeley at this time, so I copied the bibliography into this reference extractor tool to produce a .bib file. The rest was easy, thanks to Quarto/Pandoc. But wait, that’s not all! Once your bibliography is in place, Quarto’s VSCode plugin enables you to look up citations as you write (Fig. 2). You can see the final file structure for this post here.\n:::  :::"
  },
  {
    "objectID": "posts/23/academic-proposals-part1-amine-boranes/index.html#comment",
    "href": "posts/23/academic-proposals-part1-amine-boranes/index.html#comment",
    "title": "Aqueous chemistry and applications of boron hydrides",
    "section": "",
    "text": "This was the more outlandish of my proposals. It wasn’t based on my previous work, just on long-time fascination with boron chemistry, and some experiments with reversible reduction of GFP with borohydride(18, 19), which I played with for a bit because purified fluorescent proteins were around in Roger’s lab! Roger himself was quite interested in hydrogen peroxide sensors based on boronic acids, but they couldn’t compete on rates with HyPer and similar protein-based sensors.(20)"
  },
  {
    "objectID": "posts/23/academic-proposals-part1-amine-boranes/index.html#references",
    "href": "posts/23/academic-proposals-part1-amine-boranes/index.html#references",
    "title": "Aqueous chemistry and applications of boron hydrides",
    "section": "",
    "text": "1. W. N. Lipscomb, The boranes and their relatives. Science. 196, 1047–55 (1977).\n\n\n2. H. C. Brown, From little acorns to tall oaks: From boranes through organoboranes. Science. 210, 485–492 (1980).\n\n\n3. A. M. Crestfield, S. Moore, W. H. Stein, The preparation and enzymatic hydrolysis of reduced and s-carboxymethylated proteins. J Biol Chem. 238, 622–627 (1963).\n\n\n4. R. Earl. Davis, Edward. Bromels, C. L. Kibby, Boron hydrides. III. Hydrolysis of sodium borohydride in aqueous solution. Journal of the American Chemical Society. 84, 885–892 (1962).\n\n\n5. H. C. Kelly, V. B. Marriott, Reexamination of the mechanism of acid-catalyzed amine-borane hydrolysis. The hydrolysis of ammonia-borane. Inorganic Chemistry. 18, 2875–2878 (1979).\n\n\n6. M. F. Hawthorne, D. E. Walmsley, W. L. Budde, Nucleophilic substitution at tetrahedral boron. Trimethylamine-alkylborane and trimethylamine-arylborane substrates. Journal of the American Chemical Society. 93, 3150–3155 (1971).\n\n\n7. E. Muller, H.-B. Burgi, Complexes of 2,2’,2”-nitrilotriphenol. Part 1. A study of bimolecular nucleophilic substitution at the boron atom. Helvetica Chimica Acta. 70, 499–510 (1987).\n\n\n8. B. Xiao, C. Jing, J. R. Wilson, P. A. Walker, N. Vasisht, G. Kelly, S. Howell, I. A. Taylor, G. M. Blackburn, S. J. Gamblin, Structure and catalytic mechanism of the human histone methyltransferase SET7/9. Nature. 421, 652–6 (2003).\n\n\n9. S. Hermanek, Boron-11 NMR spectra of boranes, main-group heteroboranes, and substituted derivatives. Factors influencing chemical shifts of skeletal atoms. Chemical Reviews. 92, 325–362 (1992).\n\n\n10. R. L. Moss, Critical review, with an optimistic outlook, on boron neutron capture therapy (BNCT). Applied radiation and isotopes : including data, instrumentation and methods for use in agriculture, industry and medicine. 88, 2–11 (2014).\n\n\n11. I. Ohsawa, M. Ishikawa, K. Takahashi, M. Watanabe, K. Nishimaki, K. Yamagata, K.-I. Katsura, Y. Katayama, S. Asoh, S. Ohta, Hydrogen acts as a therapeutic antioxidant by selectively reducing cytotoxic oxygen radicals. Nature medicine. 13, 688–94 (2007).\n\n\n12. S. M. Carlson, O. Gozani, Emerging technologies to map the protein methylome. Journal of molecular biology. 426, 3350–62 (2014).\n\n\n13. M. Christian, K.-F. Aguey-Zinsou, Synthesis of core-shell NaBH4@m (m = co, cu, fe, ni, sn) nanoparticles leading to various morphologies and hydrogen storage properties. Chemical Communications. 49, 6794–6796 (2013).\n\n\n14. T. J. Mason, Therapeutic ultrasound an overview. Ultrasonics Sonochemistry. 18, 847–852 (2011).\n\n\n15. K. De Bock, M. Mazzone, P. Carmeliet, Antiangiogenic therapy, hypoxia, and metastasis: Risky liaisons, or not? Nature reviews. Clinical oncology. 8, 393–404 (2011).\n\n\n16. G. Kroemer, L. Galluzzi, O. Kepp, L. Zitvogel, Immunogenic cell death in cancer therapy. Annu Rev Immunol. 31, 51–72 (2013).\n\n\n17. C. Twyman-Saint Victor, A. J. Rech, A. Maity, R. Rengan, K. E. Pauken, E. Stelekati, J. L. Benci, B. Xu, H. Dada, P. M. Odorizzi, R. S. Herati, K. D. Mansfield, D. Patsch, R. K. Amaravadi, L. M. Schuchter, H. Ishwaran, R. Mick, D. A. Pryma, X. Xu, M. D. Feldman, T. C. Gangadhar, S. M. Hahn, E. J. Wherry, R. H. Vonderheide, A. J. Minn, Radiation and dual checkpoint blockade activate non-redundant immune mechanisms in cancer. Nature. 520, 373–377 (2015).\n\n\n18. S. Inouye, F. I. Tsuji, Evidence for redox forms of the aequorea green fluorescent protein. FEBS Letters. 351, 211–214 (1994).\n\n\n19. R. Y. Tsien, THE GREEN FLUORESCENT PROTEIN. Annual Review of Biochemistry. 67, 509–544 (1998).\n\n\n20. J. Meier, E. M Hofferber, J. A Stapleton, N. M Iverson, Hydrogen peroxide sensors for biomedical applications. Chemosensors. 7 (2019), doi:10.3390/chemosensors7040064."
  },
  {
    "objectID": "posts/23/academic-proposals-part1-amine-boranes/index.html#p.s.-writing-with-quarto",
    "href": "posts/23/academic-proposals-part1-amine-boranes/index.html#p.s.-writing-with-quarto",
    "title": "Aqueous chemistry and applications of boron hydrides",
    "section": "",
    "text": "This was the first time I used Quarto for scholarly-ish writing. My proposal was a Word doc with Mendeley citations. I didn’t feel like re-acquanting myself with Mendeley at this time, so I copied the bibliography into this reference extractor tool to produce a .bib file. The rest was easy, thanks to Quarto/Pandoc. But wait, that’s not all! Once your bibliography is in place, Quarto’s VSCode plugin enables you to look up citations as you write (Fig. 2). You can see the final file structure for this post here.\n:::  :::"
  },
  {
    "objectID": "posts/23/duckdb-to-html/index.html",
    "href": "posts/23/duckdb-to-html/index.html",
    "title": "DuckDB to HTML",
    "section": "",
    "text": "Feature request: https://github.com/duckdb/duckdb/discussions/8961\n\n\n\nfrom duckdb import DuckDBPyConnection\n\ndef to_html(\n    self,\n    classes: str | None = None,\n    table_id: str | None = None,\n    indent: int = 2,\n):\n    _indent = \" \"*indent\n    if classes:\n        _classes = f' class=\"{classes}\"'\n    else:\n        _classes = \"\"\n\n    if table_id:\n        _table_id = f' id=\"{table_id}\"'\n    else:\n        _table_id = \"\"\n\n    html_table = f\"&lt;table{_classes}{_table_id}&gt;\\n\"\n    \n    html_table += f\"{_indent}&lt;thead&gt;\\n\"\n    html_table += f\"{_indent}&lt;tr&gt;\\n\"\n    for col_name in self.description:\n        html_table += f\"{_indent}{_indent}&lt;th&gt;{col_name[0]}&lt;/th&gt;\\n\"\n    html_table += f\"{_indent}&lt;/tr&gt;\\n\"\n    html_table += f\"{_indent}&lt;/thead&gt;\\n\"\n    \n    for row in self.fetchall():\n        html_table += f\"{_indent}&lt;tr&gt;\\n\"\n        for value in row:\n            html_table += f\"{_indent}{_indent}&lt;td&gt;{str(value)}&lt;/td&gt;\\n\"\n        html_table += f\"{_indent}&lt;/tr&gt;\\n\"\n    \n    html_table += \"&lt;/table&gt;\"\n    return html_table\n\nsetattr(DuckDBPyConnection, \"to_html\", to_html)\n\nimport duckdb\ncon = duckdb.connect()\ncon.execute(\"CREATE TABLE items(item VARCHAR, value DECIMAL(10, 2), count INTEGER)\")\ncon.execute(\"INSERT INTO items VALUES ('jeans', 20.0, 1), ('hammer', 42.2, 2)\")\n\ncon.execute(\"SELECT * FROM items\")\nhtml = con.to_html(classes=\"table table-hover\", table_id=\"ducktable\")\nprint(html[:104])\n\n&lt;table class=\"table table-hover\" id=\"ducktable\"&gt;\n  &lt;thead&gt;\n  &lt;tr&gt;\n    &lt;th&gt;item&lt;/th&gt;\n    &lt;th&gt;value&lt;/th&gt;\n \n\n\n\nfrom IPython.display import HTML\ndisplay(HTML(html))\n\n\n\n\nitem\nvalue\ncount\n\n\n\n\njeans\n20.00\n1\n\n\nhammer\n42.20\n2"
  },
  {
    "objectID": "posts/23/duckdb-to-html/index.html#monkey-patching-duckdbpyconnection",
    "href": "posts/23/duckdb-to-html/index.html#monkey-patching-duckdbpyconnection",
    "title": "DuckDB to HTML",
    "section": "",
    "text": "from duckdb import DuckDBPyConnection\n\ndef to_html(\n    self,\n    classes: str | None = None,\n    table_id: str | None = None,\n    indent: int = 2,\n):\n    _indent = \" \"*indent\n    if classes:\n        _classes = f' class=\"{classes}\"'\n    else:\n        _classes = \"\"\n\n    if table_id:\n        _table_id = f' id=\"{table_id}\"'\n    else:\n        _table_id = \"\"\n\n    html_table = f\"&lt;table{_classes}{_table_id}&gt;\\n\"\n    \n    html_table += f\"{_indent}&lt;thead&gt;\\n\"\n    html_table += f\"{_indent}&lt;tr&gt;\\n\"\n    for col_name in self.description:\n        html_table += f\"{_indent}{_indent}&lt;th&gt;{col_name[0]}&lt;/th&gt;\\n\"\n    html_table += f\"{_indent}&lt;/tr&gt;\\n\"\n    html_table += f\"{_indent}&lt;/thead&gt;\\n\"\n    \n    for row in self.fetchall():\n        html_table += f\"{_indent}&lt;tr&gt;\\n\"\n        for value in row:\n            html_table += f\"{_indent}{_indent}&lt;td&gt;{str(value)}&lt;/td&gt;\\n\"\n        html_table += f\"{_indent}&lt;/tr&gt;\\n\"\n    \n    html_table += \"&lt;/table&gt;\"\n    return html_table\n\nsetattr(DuckDBPyConnection, \"to_html\", to_html)\n\nimport duckdb\ncon = duckdb.connect()\ncon.execute(\"CREATE TABLE items(item VARCHAR, value DECIMAL(10, 2), count INTEGER)\")\ncon.execute(\"INSERT INTO items VALUES ('jeans', 20.0, 1), ('hammer', 42.2, 2)\")\n\ncon.execute(\"SELECT * FROM items\")\nhtml = con.to_html(classes=\"table table-hover\", table_id=\"ducktable\")\nprint(html[:104])\n\n&lt;table class=\"table table-hover\" id=\"ducktable\"&gt;\n  &lt;thead&gt;\n  &lt;tr&gt;\n    &lt;th&gt;item&lt;/th&gt;\n    &lt;th&gt;value&lt;/th&gt;\n \n\n\n\nfrom IPython.display import HTML\ndisplay(HTML(html))\n\n\n\n\nitem\nvalue\ncount\n\n\n\n\njeans\n20.00\n1\n\n\nhammer\n42.20\n2"
  },
  {
    "objectID": "posts/23/data-supply-chain-breakfast/index.html",
    "href": "posts/23/data-supply-chain-breakfast/index.html",
    "title": "Data Supply Chain",
    "section": "",
    "text": "What if I told you that there is no data science?\nOr data analytics or engineering?\nJust logistics.\nAll these lines of work are in service of data supply chain.\nSupply chains haven’t been on our minds much, until the COVID pandemic brought along issues with getting all kinds of stuff we take for granted. We’ve learned to associate supply chains with the movement of physical goods. Indeed, it’s been the case for millenia: when people found something valuable, others found ways to bring it to them. Did you notice a bit of an implied data exchange in the previous sentence? Merchants need a way to tell buyers what they have, and collect the data on what they need. Data has always played a role in supply chains. Sometimes just this data is precious. In the spring of 2020 I was working in a hospital supply chain, and “WHO HAS MASKS?” was a multi-million dollar question.\nLet’s take a closer look at supply chains built around data, and define the data supply chain while we’re at it. Data supply chain is a sequence of sociotechnical processes for building and distributing data products. There are two major steps in a data supply chain. We collect, enhance, and analyze data to derive insights. We use insights to make decisions. Much like in the physical goods world, smart use of technology confers a competitive advantage.\n\n\n\nData Supply Chain: a sequence of sociotechnical processes for building and distributing data products\n\n\nFully human, as well as fully automated data supply chains are all around us. Upon collecting some data from your fridge and pantry, the insights, decisions, and actions that will make food appear on your table tonight will be mostly made by you (though this is changing). In contrast, your thermostat makes decisions to cool or heat your home all by itself, based on insights derived from processing data from temperature sensors. You can certainly find similar examples in organizations, but if you attempt to trace the lifecycle of some recent decisions, you might observe that the extent of human involvement increases along with product maturity. The specifics of how we handle the first step are mainly technical (think scientific instruments, data pipelines, databases, dashboards). The second step is a lot more about people (think meetings, presentations, publications).\nWhen we view the process of value creation from data from the lens of the data supply chain, it makes perfect sense why we care about data quality and governance, as well as technology required to process raw data. If you run a restaurant, it would be unwise to make breakfast from rotten eggs and rusty cookware. But you also need good servers to deliver the food and help the guests decide what to eat.\nHow hard can it be to not bring rotten eggs to the kitchen?\nHow hard can it be to “serve” an insight?\nWhich of the two steps have you found more challenging in your work?\n#datasupplychain #insightdelivery #datastrategy"
  },
  {
    "objectID": "posts/23/polyethylene/index.html",
    "href": "posts/23/polyethylene/index.html",
    "title": "Polyethylene",
    "section": "",
    "text": "CH2CH2CH2CH2CH2CH2CH2CH2CH2CH2CH2CH2CH2CH2 CH2CH2CH2CH2CH2CH2CH2CH2CH2CH2CH2CH2CH2CH2 CH2CH2CH2CH2CH2CH2CH2CH2CH2CH2CH2CH2CH2CH2 CH2CH2CH2CH2CH2CH2CH2CH2CH2CH2CH2CH2CH2CH2 CH2CH2CH2CH2CH2CH2CH2CH2CH2CH2CH2CH2CH2CH2 CH2CH2CH2CH2CH2CH2CH2CH2CH2CH2CH2CH2CH2CH2 CH2CH2CH2CH2CH2CH2CH2CH2CH2CH2CH2CH2CH2CH2\n\n\n| Period  | Group 1 | Group 2 | Group 17 | Group 18 |\n|---------|:--------|--------:|:--------:|:--------:|\n| 1       | H       |         |          | He       |\n| 2       | Li      | Be      | F        | Ne       |"
  },
  {
    "objectID": "posts/23/polyethylene/index.html#small-but-periodic",
    "href": "posts/23/polyethylene/index.html#small-but-periodic",
    "title": "Polyethylene",
    "section": "",
    "text": "| Period  | Group 1 | Group 2 | Group 17 | Group 18 |\n|---------|:--------|--------:|:--------:|:--------:|\n| 1       | H       |         |          | He       |\n| 2       | Li      | Be      | F        | Ne       |"
  },
  {
    "objectID": "posts/23/rare-events/index.html",
    "href": "posts/23/rare-events/index.html",
    "title": "Black Cats, Blue Birds",
    "section": "",
    "text": "The difference between practice and theory is greater in practice than in theory.\nImagine a square field divided into 25 equal square patches. 100 raindrops come down. For each small square, we expect 4 raindrops on average. This simulation shows that there’s a good number of outcomes one might consider surprising. Some patches get nothing, and some get more than twice the expected amount of water.\nA very oversimplified explanation of how extreme drought and extreme flooding can happen right next to one another, in time and space.\n\n\nShow the code\nimport pandas as pd\npd.DataFrame(\n    index=list('AB'),\n    data = {\n        'events': [4, 8],\n        'non-events': [396, 392],\n        'event rate': ['1%', '2%']\n    }\n)\n\n\n\n\n\n\n\n\n\nevents\nnon-events\nevent rate\n\n\n\n\nA\n4\n396\n1%\n\n\nB\n8\n392\n2%\n\n\n\n\n\n\n\n\n\nShow the code\nimport altair as alt\nimport numpy as np\nimport pandas as pd\n\n# set random seed for reproducibility\nnp.random.seed(42)\n\n# event rate\nP = 0.01\n\n# 400 experiments, repeated 2500 times\nN, R = 400, 2500\n\ndf = pd.DataFrame({\n    'binomial': np.random.binomial(N, P, R),\n    'poisson': np.random.poisson(N*P, R),\n})\n\ndef pdf_plot(distribution):\n    return alt.Chart(\n        df, title=distribution,\n    ).transform_joinaggregate(\n        total='count(*)'\n    ).transform_calculate(\n        pct='1 / datum.total'\n    ).mark_bar().encode(\n        alt.X(f'{distribution}:O', title=\"event count\"),\n        alt.Y('sum(pct):Q', axis=alt.Axis(format='%'), title=\"frequency\")\n    )\n\npdf_plots = pdf_plot('binomial') | pdf_plot('poisson')\npdf_plots.resolve_scale(y='shared')\n\n\n\n\n\n\n\n\n\n\nShow the code\nimport numpy as np\nimport pandas as pd\n\nt10k = pd.DataFrame({\n    'x': np.random.randint(0, 100, 100),\n    'y': np.random.randint(0, 100, 100),\n})\nax = t10k.plot.scatter(\n    x='x', y='y', alpha=0.4,\n    xlim=(0,100), ylim=(0, 100),\n    grid=True, figsize=(4,4),\n    title=\"400 assays with 1% event rate:\\nobserved event counts in 25 simulations\"\n)\n\nfor a in range(5):\n    for b in range(5):\n        n_events = sum((t10k.x // 20 == a) & (t10k.y // 20 == b))\n        ax.text(a*20+10, b*20+10, n_events)\n\n\n\n\n\n\n\nhttps://gist.github.com/liquidcarbon/e4db5ab305c57a542136499871f7773d\nhttps://www.linkedin.com/posts/alekis_html5-poisson-statistics-activity-7087531310398767104-zdw3"
  },
  {
    "objectID": "posts/23/rare-events/index.html#simulation-html5-canvas",
    "href": "posts/23/rare-events/index.html#simulation-html5-canvas",
    "title": "Black Cats, Blue Birds",
    "section": "",
    "text": "https://gist.github.com/liquidcarbon/e4db5ab305c57a542136499871f7773d\nhttps://www.linkedin.com/posts/alekis_html5-poisson-statistics-activity-7087531310398767104-zdw3"
  }
]